<!--

# SPDX-License-Identifier: MIT
# Copyright (c) 2025 Vamsi Duvvuri

File: frontend/index.html

Need for this file (5th-grader explanation):
“Imagine a little webpage with a box where you can type the name of your toy set 
(like ‘make ads’). When you click the button, it goes through our little door 
(the API) and shows you the full list of steps right on the page. 
This file builds that simple webpage.”
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Blueprint Maker</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2rem;
        }

        textarea {
            width: 100%;
            height: 200px;
        }

        input,
        button {
            font-size: 1rem;
            padding: 0.5rem;
        }
    </style>
</head>

<body>
    <h1>Blueprint Maker</h1>
    <p>Enter function name:</p>
    <input type="text" id="fnName" placeholder="e.g. Creative Development" style="width: 300px;" />
    <button id="runBtn">Decompose</button>
    <h2>Result:</h2>
    <textarea id="result" readonly placeholder="Your decomposition will appear here..."></textarea>

    <script>
        document.getElementById('runBtn').onclick = async () => {
            const fn = document.getElementById('fnName').value;
            if (!fn) return alert('Please enter a function name.');
            const res = await fetch('/decompose', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ function_name: fn })
            });
            if (!res.ok) {
                document.getElementById('result').value = 'Error: ' + res.statusText;
                return;
            }
            const json = await res.json();
            document.getElementById('result').value = JSON.stringify(json, null, 2);
        };
    </script>
</body>

</html>